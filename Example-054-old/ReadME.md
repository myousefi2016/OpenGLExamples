<A href="http://www.opengl.org"><IMG src='https://www.khronos.org/assets/images/api_logos/opengl.png' border=0 width="180" height="97"></A>

<H3>The <i>'Example-054 (Old Mode)'</i> Test</H3>

The <i>'Example-054 (Old Mode)'</i> Test draws several portions of the <i>'Square Annulus'</i> shape in an <A href="http://www.opengl.org"><i>OpenGL</i></A> window. This shape is bounded by <code><i>'2'</i></code> (concentric) axis-parallel rectangles of different size in the same spirit of a circular crown. It is often known as the <i>'rectangular'</i> crown. Its large rectangle is called the <i>'external'</i> rectangle, and other rectangle is called the <i>'internal'</i> rectangle. Thus, it requires <code><i>'8'</i></code> vertices with their optional attributes (colors).<p>Here, the <i>'Square Annulus'</i> shape of interest is approximated by an unique triangle strip, formed by <code><i>'8'</i></code> triangles, without adding any <i>'Steiner'</i> point. By construction, it is necessary to enumerate a sequence of <code><i>'10'</i></code> points with their independent colors (<code><i>'2'</i></code> points and their colors are needed to be duplicated).<p>For the sake of the efficiency, we exploit the <i>'vertex array'</i> technique, provided directly by the <A href="http://www.opengl.org"><i>OpenGL</i></A>. This technique is used to group together several drawing instructions into only one instruction for rendering (a subset of) the vertices and some of their state parameters. Here, we limit our attention to the Euclidean <code>'3D'</code> coordinates and the colors for all <code><i>'8'</i></code> vertices in the <i>'Square Annulus'</i> shape of interest. In particular, <code><i>'2'</i></code> arrays are defined, containing, respectively, the Euclidean <code>'3D'</code> coordinates and the colors components for all <code><i>'8'</i></code> vertices (with no redundancy). This information is stored as <code><i>'8'</i></code> consecutive tuples of <code><i>'3'</i></code> floating-point values in every array, respectively. The locations, containing the Euclidean <code>'3D'</code> coordinates and the color components for the point of index <code><i>'j % 8'</i></code> (for any <code><i>'j'</i></code>), are stored in positions <code><i>'3 * j'</i></code>, <code><i>'3 * j + 1'</i></code>, and <code><i>'3 * j + 2'</i></code>. Hence, it is sufficient to access the locations, related to vertices of indices <code><i>'0,...,7,0,1'</i></code>, in <code><i>'2'</i></code> arrays, mentioned above, in order to draw the triangle strip of interest. In this test, the <i>'glDrawElement()'</i> function is exploited for drawing a specific <A href="http://www.opengl.org"><i>OpenGL</i></A> primitive, formed by a bunch of vertices (not necessarily only one vertex). This is done by a single instruction, and requires the list of indices to the vertices to be considered, as mentioned above.<p>In order to show the actual validity of this approach, it is possible to limit our attention only on a specific portion of the <i>'Square Annulus'</i> shape, defined by using only <code><i>'n'</i></code> points, such that <code><i>'n'</i></code> is in the range <code><i>'[3,10]'</i></code>. This means that only a subset of all triangles in the triangle strip of interest are drawn. Broadly speaking, every index <code><i>'j'</i></code> in <code><i>'[0,n-1]'</i></code> is generated in order to access the locations, corresponding to the point of index <code><i>'j % 8'</i></code>, in the arrays of interest. These indices <i><code>'j'</code></i> are passed as argument to the unique invocation of the <i>'glDrawElement()'</i> function in the code, which automatically takes into account their corresponding state parameters.<p>In this test, it is not possible to modify the size and the position for the <i>'external'</i> and the <i>'internal'</i> rectangles of the <i>'Square Annulus'</i> shape. Instead, the user can:<p><ul>
<li>increase the maximum number <code><i>'n'</i></code> of points to be considered by pressing the <code><i>'+'</i></code> key;</li>
<li>decrease the maximum number <code><i>'n'</i></code> of points to be considered by pressing the <code><i>'-'</i></code> key;</li></ul><p>and can press cyclically the <code><i>' '</i></code> (space) key for choosing to render:<p><ul>
<li>only the points for the desired triangles in the triangle strip of interest;</li>
<li>the <i>'wireframe versions'</i> for the desired triangles in the triangle strip of interest;</li>
<li>the <i>'filled versions'</i> for the desired triangles in the triangle strip of interest.</li></ul><p>Likewise, the window of interest can be closed by pressing any among the <code><i>'Q'</i></code>, the <code><i>'q'</i></code>, and the <code><i>'Esc'</i></code> keys.<p><table border=0 width=100%>
